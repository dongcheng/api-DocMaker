package com.melonlee.api.controller;import java.util.ArrayList;import javax.annotation.Resource;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.servlet.ModelAndView;import com.melonlee.api.bean.FunctionBean;import com.melonlee.api.dao.MainDao;import com.melonlee.api.utils.DateFormatUtils;@Controllerpublic class FunctionController {	@Resource	private MainDao mainDao;	@RequestMapping(value = "saveFun", method = RequestMethod.POST)	public ModelAndView save(			@RequestParam(value = "mID", required = false) int mID,			@RequestParam(value = "title", required = false) String title,			@RequestParam(value = "url", required = false) String url,			@RequestParam(value = "httpMethod", required = false) String httpMethod,			@RequestParam(value = "isLogin", required = false) int isLogin,			@RequestParam(value = "params", required = false) String params) {				FunctionBean bean = new FunctionBean();		bean.setCreateDate(DateFormatUtils.getNow());		bean.setHttpMethod(httpMethod);		bean.setIsLogin(isLogin);		bean.setmID(mID);		bean.setParams(DateFormatUtils.enCoding(params));		bean.setTitle(DateFormatUtils.enCoding(title));		bean.setUrl(url);			    mainDao.saveFun(bean);		return funs(mID);	}			@RequestMapping(value = "funs", method = RequestMethod.GET)	public ModelAndView funs(@RequestParam(value = "mID", required = false) int mID) {		ArrayList<FunctionBean> funs = mainDao.getFuns(mID);				ModelMap model = new ModelMap();				model.addAttribute("funs", funs);				model.addAttribute("mID", mID);				return new ModelAndView("functions.jsp",model);	}}
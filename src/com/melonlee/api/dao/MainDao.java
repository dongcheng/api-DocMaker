package com.melonlee.api.dao;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.SQLException;import java.sql.Statement;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.jdbc.core.PreparedStatementCreator;import org.springframework.jdbc.support.GeneratedKeyHolder;import org.springframework.jdbc.support.KeyHolder;import com.melonlee.api.utils.DateFormatUtils;public class MainDao {	private JdbcTemplate jdbcTemplate;	public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {		this.jdbcTemplate = jdbcTemplate;	}	//创建项目	public Integer createPro(final String title) {		KeyHolder keyHolder = new GeneratedKeyHolder();		jdbcTemplate.update(new PreparedStatementCreator() {			@Override			public PreparedStatement createPreparedStatement(Connection con)					throws SQLException {				String sql = "insert into T_Project  (title,createDate) values (?,?)";				PreparedStatement ps = con.prepareStatement(sql,						Statement.RETURN_GENERATED_KEYS);				ps.setString(1, title);				ps.setString(2, DateFormatUtils.getNow());				return ps;			}		}, keyHolder);		return keyHolder.getKey().intValue();	}}